# 프로젝트 분리 후 체크리스트 (Verification Checklist)

3D 앱과 메신저 앱을 별개의 프로젝트로 분리한 직후, 정상 동작을 보장하기 위해 반드시 점검해야 할 항목들입니다.

---

## 1. 네트워크 및 연결 (Network & Connectivity)

- [ ] **CORS 설정**: 백엔드 서버에서 새로운 메신저 앱의 도메인(또는 로컬 주소)과 3D 앱의 도메인이 모두 `cors` 허용 목록에 포함되어 있는가?
- [ ] **웹소켓(WebSocket) 엔드포인트**: 분리된 각 앱의 환경 변수(ENV)에 웹소켓 주소가 정확히 설정되어 있으며, 브라우저/Electron에서 연결 성공 메시지가 출력되는가?
- [ ] **API Base URL**: 모든 API 호출 클라이언트가 하드코딩된 주소가 아닌, 환경 변수(`${process.env.REACT_APP_API_URL}`)를 통해 백엔드를 바라보고 있는가?

## 2. 인증 및 보안 (Auth & Security)

- [x] **JWT 토큰 공유 (선택 사항)**: 3D 앱과 메신저 앱이 독립된 로그인을 사용하기로 했으므로, 서로 다른 키(`token` vs `authToken`)를 사용하는 것이 정상입니다.
- [ ] **로컬 스토리지 유지**: 각 앱이 독립된 환경(브라우저 도메인 vs Electron)에서 토큰을 안전하게 유지하고 있는지 확인합니다.
- [ ] **권한(RBAC) 테스트**: 분리된 프로젝트에서도 사용자별 접근 권한(일반 사용자, 관리자 등)이 동일하게 유지되는가?

## 3. 실시간 동기화 (Real-time Sync)

- [ ] **개인 알림 구독**: 유저별 고유 토픽(`/topic/user/{userId}/updates`)을 두 앱 모두 정상적으로 구독하고 있는가?
- [ ] **읽음 처리 동기화**: 메신저 앱에서 메시지를 읽었을 때, 3D 앱 내부의 안 읽음 숫자 배지가 실시간으로 사라지는가? (그 반대도 확인)
- [ ] **상태(Online Status) 표시**: 친구 목록에서 한 유저가 접속했을 때, 3D 앱과 메신저 앱 모두 실시간으로 '온라인' 상태로 바뀌는가?

## 4. 빌드 및 배포 (Build & Deployment)

- [ ] **의존성 충돌**: 프로젝트 분리 후 `npm install` 시 누락된 패키지가 없는가? (공통 라이브러리 참조 오류 등)
- [ ] **환경 변수(.env)**: 프로덕션(Production) 빌드 시에 각 프로젝트별로 적절한 환경 변수가 주입되도록 CI/CD 설정이 되어 있는가?
- [ ] **정적 자원(Assets)**: 이미지, 아바타, 아이콘 등의 자원이 통합 관리되는 Storage(S3 등)를 바라보고 있어, 어느 앱에서든 동일한 이미지가 출력되는가?

---

## 5. 단계별 테스트 시나리오

1.  **시나리오 A**: 3D 앱 실행 중 메시지 수신 -> 메신저 앱에서 확인 및 답장 -> 3D 앱의 알림 상태 갱신 확인.
2.  **시나리오 B**: 메신저 앱에서만 로그인 -> 친구 검색 및 추가 -> 3D 앱에 로그인하여 친구 목록 동기화 확인.
3.  **시나리오 C**: 백엔드 서버 재시작 -> 두 앱 모두 웹소켓 재연결(Reconnect) 로직 작동 여부 확인.

---
> [!TIP]
> 분리 직후에는 **브라우저의 개발자 도구(F12) -> Network 탭**을 열어두고 403(Forbidden)이나 401(Unauthorized) 에러가 발생하는지 상시 모니터링하는 것이 가장 효율적입니다.
