# 요구사항 명세서 (Requirements Specification)

## 프로젝트 개요

### 목적
**"차원이 다른 소셜 플레이그라운드"**

사용자들이 3D 가상 공간에서 자유롭게 소통하고, 미니게임을 즐기며, 자신만의 아바타를 꾸밀 수 있는 소셜 플랫폼 구축

### 핵심 목표
- 실시간 3D 환경에서의 자연스러운 사용자 간 상호작용
- 누구나 쉽게 미니게임 로비를 생성하고 참여할 수 있는 환경 제공
- 모바일/PC 크로스플랫폼 지원으로 접근성 극대화
- 커스터마이징과 소셜 기능을 통한 사용자 몰입도 향상
<<<<<<< HEAD
<<<<<<< HEAD
- GPS 기반 로컬 방 생성으로 주변 사람들과 특별한 소셜 경험 제공
=======
>>>>>>> b883707 (PostgreSQL 단독 사용, 요구사항 정의)
=======
- GPS 기반 로컬 방 생성으로 주변 사람들과 특별한 소셜 경험 제공
>>>>>>> d2d7fef (설계 문서 v1 작성)

### 타겟 사용자
- 게임과 소셜 활동을 동시에 즐기는 10~20대

---

## 기능 요구사항 (Functional Requirements)

### 1. 회원 시스템

#### 1.1 인증
- **FR-1.1.1** 이메일 기반 회원가입
  - 이메일, 사용자명, 비밀번호 입력
  - 이메일 중복 검증
  - 비밀번호 암호화 저장 (BCrypt)
<<<<<<< HEAD
<<<<<<< HEAD
  - 기본 권한: USER
=======
>>>>>>> b883707 (PostgreSQL 단독 사용, 요구사항 정의)
=======
  - 기본 권한: USER
>>>>>>> ca4c8c1 (요구사항 추가 v1)
- **FR-1.1.2** 로그인
  - 이메일/비밀번호 인증
  - JWT 토큰 발급 (24시간 유효)
- **FR-1.1.3** 소셜 로그인 (선택)
  - Google, Kakao 연동

<<<<<<< HEAD
<<<<<<< HEAD
=======
>>>>>>> ca4c8c1 (요구사항 추가 v1)
#### 1.2 권한 시스템
- **FR-1.2.1** 권한 레벨
  - USER: 일반 사용자
  - GM (Game Master): 관리자
- **FR-1.2.2** GM 권한
  - 전용 UI 및 기능 제공
  - 사용자 관리 (강제 퇴장, 계정 정지 등)
  - 게임 방 관리
  - 공지사항 작성

#### 1.3 프로필 관리
- **FR-1.3.1** 프로필 조회
<<<<<<< HEAD
  - 자신 및 다른 사용자 프로필 보기
  - 사용자명, 프로필 이미지, 상태 메시지
  - 미니게임 전적 탭 (선택사항)
- **FR-1.3.2** 프로필 수정
=======
#### 1.2 프로필 관리
- **FR-1.2.1** 프로필 조회
  - 자신 및 다른 사용자 프로필 보기
  - 사용자명, 레벨, 프로필 이미지, 상태 메시지
- **FR-1.2.2** 프로필 수정
>>>>>>> b883707 (PostgreSQL 단독 사용, 요구사항 정의)
=======
  - 자신 및 다른 사용자 프로필 보기
  - 사용자명, 프로필 이미지, 상태 메시지
  - 미니게임 전적 탭 (선택사항)
- **FR-1.3.2** 프로필 수정
>>>>>>> ca4c8c1 (요구사항 추가 v1)
  - 프로필 이미지 업로드
  - 상태 메시지 변경
  - 사용자명 변경 (제한적)

---

### 2. 3D 가상 공간

<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
#### 2.1 광장
=======
#### 2.1 메인 광장 (Main Plaza)
>>>>>>> b883707 (PostgreSQL 단독 사용, 요구사항 정의)
=======
#### 2.1 메인 광장 (Main World)
>>>>>>> ca4c8c1 (요구사항 추가 v1)
=======
#### 2.1 광장
>>>>>>> d2d7fef (설계 문서 v1 작성)
- **FR-2.1.1** 3D 광장 렌더링
  - Three.js 기반 3D 환경
  - 실시간 조명 및 그림자 효과
- **FR-2.1.2** 다중 사용자 표시
  - 같은 공간에 있는 다른 사용자 캐릭터 실시간 표시
<<<<<<< HEAD
<<<<<<< HEAD
  - 최대 수용 인원: 100명
- **FR-2.1.3** 접속자 목록
  - Tab 키로 현재 공간(광장 또는 로컬 방) 접속자 목록 모달 토글
  - 활성화 상태에서 Tab/ESC/닫기 버튼으로 닫기
  - 접속 중인 사용자 목록 및 상태 표시
=======
  - 최대 수용 인원: 50명 (성능 고려)
>>>>>>> b883707 (PostgreSQL 단독 사용, 요구사항 정의)
=======
  - 최대 수용 인원: 100명
- **FR-2.1.3** 접속자 목록
  - Tab 키로 현재 공간(광장 또는 로컬 방) 접속자 목록 모달 토글
  - 활성화 상태에서 Tab/ESC/닫기 버튼으로 닫기
  - 접속 중인 사용자 목록 및 상태 표시
>>>>>>> ca4c8c1 (요구사항 추가 v1)

#### 2.2 캐릭터 시스템
- **FR-2.2.1** 캐릭터 생성
  - 로그인 시 3D 캐릭터 자동 생성 (BaseCharacter.gltf)
<<<<<<< HEAD
<<<<<<< HEAD
=======
>>>>>>> ca4c8c1 (요구사항 추가 v1)
  - 지정된 스폰 좌표에서 생성
- **FR-2.2.2** 캐릭터 표시
  - 닉네임: 캐릭터 머리 본(정수리) 위에 표시
  - 닉네임 배경: 검은색, 투명도 50%
- **FR-2.2.3** 캐릭터 이동
<<<<<<< HEAD
  - WASD/방향키로 이동
  - Shift 키로 달리기
  - 터치 컨트롤 (모바일)
- **FR-2.2.4** 캐릭터 애니메이션
  - 걷기, 뛰기, 대기 애니메이션
  - 이모티콘 애니메이션
- **FR-2.2.5** 캐릭터 상호작용 범위
  - 다른 캐릭터 클릭 가능 거리: 0.5m 이내
  - 채팅 말풍선 표시 거리: 화면 내 플레이어 기본, 설정에서 범위 조절 가능

#### 2.3 로컬 방
- **FR-2.3.1** 방 생성
  - 사용자의 GPS 위치 기반 방 생성
  - 방 이름, 설명, 테마 설정
  - 비밀번호 설정 기능 제공 (선택)
  - 최대 수용 인원: 24명
  - GPS 권한 필수 요구
  - 1인당 생성 가능한 방 개수: 1개
- **FR-2.3.2** 방 접속
  - 근처 방 검색 (반경 5km)
  - 방 목록 조회 및 입장
  - 방 생성 위치 기준 반경 5km 이내 사용자만 입장 가능
  - 비밀번호가 설정된 방은 비밀번호 입력 후 입장
=======
  - 광장 내 랜덤 위치 스폰
- **FR-2.2.2** 캐릭터 이동
=======
>>>>>>> ca4c8c1 (요구사항 추가 v1)
  - WASD/방향키로 이동
  - Shift 키로 달리기
  - 터치 컨트롤 (모바일)
- **FR-2.2.4** 캐릭터 애니메이션
  - 걷기, 뛰기, 대기 애니메이션
  - 이모티콘 애니메이션
- **FR-2.2.5** 캐릭터 상호작용 범위
  - 다른 캐릭터 클릭 가능 거리: 0.5m 이내
  - 채팅 말풍선 표시 거리: 화면 내 플레이어 기본, 설정에서 범위 조절 가능

#### 2.3 로컬 방
- **FR-2.3.1** 방 생성
  - 사용자의 GPS 위치 기반 방 생성
  - 방 이름, 설명, 테마 설정
  - 비밀번호 설정 기능 제공 (선택)
  - 최대 수용 인원: 24명
  - GPS 권한 필수 요구
  - 1인당 생성 가능한 방 개수: 1개
- **FR-2.3.2** 방 접속
  - 근처 방 검색 (반경 5km)
  - 방 목록 조회 및 입장
<<<<<<< HEAD
>>>>>>> b883707 (PostgreSQL 단독 사용, 요구사항 정의)
=======
  - 방 생성 위치 기준 반경 5km 이내 사용자만 입장 가능
  - 비밀번호가 설정된 방은 비밀번호 입력 후 입장
>>>>>>> d2d7fef (설계 문서 v1 작성)
- **FR-2.3.3** 지도 연동
  - Kakao Maps/Google Maps API 활용
  - 생성된 방을 지도에 마커로 표시
  - 현재 위치와 거리 표시
<<<<<<< HEAD
<<<<<<< HEAD
=======
>>>>>>> d2d7fef (설계 문서 v1 작성)
- **FR-2.3.4** 방 관리
  - 방 생성자 권한: 방 삭제, 설정 수정, 사용자 강제 퇴장
  - 방 설정 수정: 이름, 설명, 최대 인원, 비밀번호
  - 로컬 방에서 광장으로 복귀 기능
- **FR-2.3.5** 공간 전환
  - 지도에서 로컬 방 선택 시 해당 공간으로 이동
  - 로컬 방에서 나가기 버튼으로 광장 복귀
  - 전환 시 로딩 화면 표시
  - 다른 로컬 방으로 직접 이동 불가 (광장 경유 필수)
<<<<<<< HEAD
=======
>>>>>>> b883707 (PostgreSQL 단독 사용, 요구사항 정의)
=======
>>>>>>> d2d7fef (설계 문서 v1 작성)

---

### 3. 소셜 기능

#### 3.1 실시간 채팅
<<<<<<< HEAD
<<<<<<< HEAD
=======
>>>>>>> d2d7fef (설계 문서 v1 작성)
- **FR-3.1.1** 공간별 채팅
  - 광장: 광장 내 전체 채팅
  - 로컬 방: 해당 방 내부 전용 채팅
  - 현재 접속한 공간의 채팅만 표시 (다른 공간 채팅 불가)
<<<<<<< HEAD
  - WebSocket 기반 실시간 메시지
- **FR-3.1.2** 1:1 채팅 (DM)
  - 친구와 개인 메시지
  - 모든 공간에서 접근 가능
=======
- **FR-3.1.1** 광장 채팅
  - 같은 공간 내 전체 채팅
  - WebSocket 기반 실시간 메시지
- **FR-3.1.2** 1:1 채팅 (DM)
  - 친구와 개인 메시지
>>>>>>> b883707 (PostgreSQL 단독 사용, 요구사항 정의)
=======
  - WebSocket 기반 실시간 메시지
- **FR-3.1.2** 1:1 채팅 (DM)
  - 친구와 개인 메시지
  - 모든 공간에서 접근 가능
>>>>>>> d2d7fef (설계 문서 v1 작성)
- **FR-3.1.3** 이모티콘
  - 기본 이모티콘 세트 제공
  - 이모티콘 구매 (상점)
  - 채팅에 이모티콘 사용

#### 3.2 친구 시스템
- **FR-3.2.1** 친구 추가
  - 사용자명으로 검색
  - 친구 요청 전송
  - 요청 수락/거절
- **FR-3.2.2** 친구 관리
  - 친구 목록 조회
  - 친구 삭제
  - 온라인 상태 표시
- **FR-3.2.3** 사용자 상호작용
  - 다른 캐릭터 클릭 시 프로필 보기
  - 친구 추가 요청
  - 게임 초대

<<<<<<< HEAD
<<<<<<< HEAD
=======
>>>>>>> ca4c8c1 (요구사항 추가 v1)
#### 3.3 차단 및 뮤트
- **FR-3.3.1** 사용자 차단
  - 특정 사용자 차단
  - 차단된 사용자의 채팅 메시지 숨김
  - 차단 목록 관리
- **FR-3.3.2** 채팅 뮤트
  - 특정 사용자 채팅 뮤트
  - 뮤트 목록 관리

<<<<<<< HEAD
=======
>>>>>>> b883707 (PostgreSQL 단독 사용, 요구사항 정의)
=======
>>>>>>> ca4c8c1 (요구사항 추가 v1)
---

### 4. 미니게임 시스템

#### 4.1 게임 로비 생성
- **FR-4.1.1** 게임 방 생성
  - 게임 종류 선택
  - 방 제목, 최대 인원 설정
  - 공개/비공개 설정
<<<<<<< HEAD
<<<<<<< HEAD
=======
>>>>>>> d2d7fef (설계 문서 v1 작성)
  - 광장과 로컬 방 모두에서 생성 가능
- **FR-4.1.2** 게임 방 관리
  - 방장 권한: 게임 시작, 강제 퇴장, 방 삭제
  - 참가자 목록 표시
- **FR-4.1.3** 게임 공간 제한
  - 광장에서 생성한 게임: 광장 내 사용자만 참여 가능
  - 로컬 방에서 생성한 게임: 해당 로컬 방 내 사용자만 참여 가능
  - 다른 공간의 게임 참여 불가
<<<<<<< HEAD
=======
- **FR-4.1.2** 게임 방 관리
  - 방장 권한: 게임 시작, 강제 퇴장, 방 삭제
  - 참가자 목록 표시
>>>>>>> b883707 (PostgreSQL 단독 사용, 요구사항 정의)
=======
>>>>>>> d2d7fef (설계 문서 v1 작성)

#### 4.2 게임 참가
- **FR-4.2.1** 게임 목록 조회
  - 현재 진행 중인 게임 목록
  - 대기 중인 게임 목록
  - 필터링 (게임 종류, 인원)
- **FR-4.2.2** 게임 입장
  - 게임 참가
  - 관전 모드
- **FR-4.2.3** 게임 플레이
  - 게임별 규칙 및 컨트롤
  - 실시간 멀티플레이

<<<<<<< HEAD
<<<<<<< HEAD
=======
>>>>>>> ca4c8c1 (요구사항 추가 v1)
#### 4.3 게임 전적 시스템 (선택사항)
- **FR-4.3.1** 전적 기록
  - 게임별 승/패/무 기록
  - 총 플레이 횟수, 승률
- **FR-4.3.2** 전적 조회
  - 프로필의 '미니게임 전적' 탭에서 통계 제공
  - 게임별 상세 전적
  - 최근 플레이 기록

<<<<<<< HEAD
=======
>>>>>>> b883707 (PostgreSQL 단독 사용, 요구사항 정의)
=======
>>>>>>> ca4c8c1 (요구사항 추가 v1)
---

### 5. 커스터마이징

#### 5.1 캐릭터 커스터마이징
- **FR-5.1.1** 외형 변경
  - 머리 스타일, 색상
  - 얼굴 특징
  - 체형
- **FR-5.1.2** 의상 및 액세서리
  - 상의, 하의, 신발
  - 모자, 안경, 악세서리
- **FR-5.1.3** 커스터마이징 저장
  - 설정 저장 및 적용
  - 미리보기 기능

---

### 6. 상점 및 결제

#### 6.1 아이템 상점
- **FR-6.1.1** 아이템 목록
  - 의상, 액세서리, 이모티콘
  - 카테고리별 분류
  - 가격 표시
- **FR-6.1.2** 아이템 구매
  - 게임 내 재화 또는 실제 결제
  - 구매 내역 확인

#### 6.2 인벤토리
- **FR-6.2.1** 보유 아이템 관리
  - 구매한 아이템 목록
  - 아이템 장착/해제

#### 6.3 결제 시스템
- **FR-6.3.1** 인게임 결제
  - PortOne(구 아임포트) 연동
  - Toss Payments, Kakao Pay 지원
- **FR-6.3.2** 결제 내역
  - 구매 이력 조회
  - 영수증 발급

---

### 7. 게시판 시스템 (v2)

#### 7.1 게시판
- **FR-7.1.1** 게시판 목록
  - 자유 게시판, 공략 게시판, 건의 게시판
- **FR-7.1.2** 게시글 작성
  - 제목, 내용, 이미지 첨부
- **FR-7.1.3** 게시글 조회
  - 목록, 상세보기
  - 조회수, 좋아요 수
- **FR-7.1.4** 댓글
  - 댓글 작성, 수정, 삭제
  - 대댓글 지원

#### 7.2 상호작용
- **FR-7.2.1** 좋아요
  - 게시글/댓글 좋아요
- **FR-7.2.2** 신고
  - 부적절한 게시글/댓글 신고

---

### 8. 시스템 기능

#### 8.1 공지사항
- **FR-8.1.1** 공지사항 표시
  - 로그인 시 팝업
  - 공지사항 목록
- **FR-8.1.2** 관리자 작성
  - 공지사항 등록, 수정, 삭제

#### 8.2 설정
- **FR-8.2.1** 환경 설정
  - 그래픽 품질 조절
  - 사운드 설정
  - 언어 설정
- **FR-8.2.2** 계정 설정
  - 비밀번호 변경
  - 알림 설정
  - 개인정보 수정
<<<<<<< HEAD
<<<<<<< HEAD
=======
>>>>>>> ca4c8c1 (요구사항 추가 v1)
  - 로그아웃

#### 8.3 단축키
- **FR-8.3.1** 키보드 단축키
<<<<<<< HEAD
<<<<<<< HEAD
  - WASD/방향키: 캐릭터 이동
  - Shift: 달리기
  - ESC: 설정 메뉴 열기 / 모달 닫기
  - Tab: 접속자 목록 토글
  - Enter: 채팅 입력
- **FR-8.3.2** 모달 제어
  - 모달이 활성화된 상태에서 ESC 키로 닫기
  - 닫기 버튼 클릭으로 닫기
=======
>>>>>>> b883707 (PostgreSQL 단독 사용, 요구사항 정의)
=======
=======
  - WASD/방향키: 캐릭터 이동
  - Shift: 달리기
>>>>>>> d2d7fef (설계 문서 v1 작성)
  - ESC: 설정 메뉴 열기 / 모달 닫기
  - Tab: 접속자 목록 토글
  - Enter: 채팅 입력
- **FR-8.3.2** 모달 제어
  - 모달이 활성화된 상태에서 ESC 키로 닫기
  - 닫기 버튼 클릭으로 닫기
>>>>>>> ca4c8c1 (요구사항 추가 v1)

---

## 비기능 요구사항 (Non-Functional Requirements)

### 1. 성능 (Performance)

#### 1.1 응답 시간
- **NFR-1.1.1** API 응답 시간 500ms 이하 (평균)
- **NFR-1.1.2** 3D 렌더링 60fps 유지 (데스크톱)
- **NFR-1.1.3** 3D 렌더링 30fps 이상 (모바일)

#### 1.2 동시 접속
- **NFR-1.2.1** 동시 접속자 1,000명 지원
<<<<<<< HEAD
<<<<<<< HEAD
- **NFR-1.2.2** 메인 월드 당 최대 100명 수용
- **NFR-1.2.3** 로컬 월드 당 최대 24명 수용
=======
- **NFR-1.2.2** 광장 당 최대 50명 수용
>>>>>>> b883707 (PostgreSQL 단독 사용, 요구사항 정의)
=======
- **NFR-1.2.2** 메인 월드 당 최대 100명 수용
- **NFR-1.2.3** 로컬 월드 당 최대 24명 수용
>>>>>>> ca4c8c1 (요구사항 추가 v1)

#### 1.3 최적화
- **NFR-1.3.1** 3D 모델 LOD(Level of Detail) 적용
- **NFR-1.3.2** 캐릭터 인스턴싱으로 다중 사용자 렌더링 최적화
- **NFR-1.3.3** Redis 캐싱으로 DB 부하 감소

---

### 2. 가용성 (Availability)

- **NFR-2.1** 서비스 가동률 99% 이상
- **NFR-2.2** 계획된 유지보수 시간: 주 1회, 최대 1시간

---

### 3. 확장성 (Scalability)

- **NFR-3.1** 수평 확장 가능한 마이크로서비스 아키텍처 고려
- **NFR-3.2** 로드 밸런싱으로 트래픽 분산
- **NFR-3.3** CDN을 통한 정적 파일(3D 모델, 이미지) 제공

---

### 4. 보안 (Security)

#### 4.1 인증 및 인가
- **NFR-4.1.1** JWT 기반 인증
- **NFR-4.1.2** 비밀번호 BCrypt 해싱
- **NFR-4.1.3** HTTPS 통신 강제

#### 4.2 데이터 보호
- **NFR-4.2.1** XSS 공격 방지
- **NFR-4.2.2** CSRF 토큰 검증
- **NFR-4.2.3** SQL Injection 방지 (Prepared Statement)

#### 4.3 개인정보
- **NFR-4.3.1** 개인정보 암호화 저장
- **NFR-4.3.2** GDPR/개인정보보호법 준수

---

### 5. 플랫폼 및 호환성

#### 5.1 크로스플랫폼
- **NFR-5.1.1** 웹 브라우저 (Chrome, Firefox, Safari, Edge)
- **NFR-5.1.2** 모바일 웹 (iOS Safari, Android Chrome)
- **NFR-5.1.3** PWA 지원 (홈 화면 추가)
- **NFR-5.1.4** 반응형 디자인 (PC/모바일)

#### 5.2 브라우저 요구사항
- **NFR-5.2.1** WebGL 2.0 지원 필수
- **NFR-5.2.2** WebSocket 지원

---

### 6. 사용성 (Usability)

- **NFR-6.1** 직관적인 UI/UX
- **NFR-6.2** 튜토리얼 제공 (첫 로그인 시)
- **NFR-6.3** 모바일 터치 컨트롤 최적화
- **NFR-6.4** 다국어 지원 (한국어, 영어)

---

### 7. 유지보수성 (Maintainability)

- **NFR-7.1** 코드 문서화
- **NFR-7.2** 단위 테스트 커버리지 70% 이상
- **NFR-7.3** CI/CD 파이프라인 구축 (GitHub Actions)

---

## 제약사항 (Constraints)

### 기술적 제약
- React 19 + Three.js 기반 프론트엔드
- Spring Boot 3.x 기반 백엔드
- PostgreSQL 데이터베이스
- WebSocket 기반 실시간 통신

### 비즈니스 제약
- 초기 버전: 한국어만 지원
- MVP 개발 기간: 3개월
- 초기 예산 제한으로 AWS 프리티어 활용

---

## 우선순위 (Priority)

### High Priority (Phase 1 - MVP)
- 회원 시스템 (인증, 프로필)
- 3D 가상 공간 (광장, 캐릭터 이동)
- 실시간 채팅
- 친구 시스템
- 기본 커스터마이징

### Medium Priority (Phase 2)
- 위치 기반 커스텀 방
- 미니게임 시스템
- 상점 및 아이템

### Low Priority (Phase 3 - v2)
- 게시판 시스템
- 이모티콘 확장
- 결제 시스템
- 공지사항

---

**작성일:** 2025-11-14
**버전:** v1.0
